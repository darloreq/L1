package main

import (
	"fmt"
	"sort"
)

// быстрая сортировка заключается в том, что мы берем случайное значение(обычно (r - l) / 2),
// после чего с краев массива начинаем двигать указатели и смотреть
// если левое число больше чем наше значение, а правое меньше, то меняем местами и дигаем оба указателя к центру
// ели одно и значений не подходит, то двигаем неподходящий указатель к центру
// как только наши указатели оказываются друг с другом
// то отправляем получившиеся отрезки рекурсивно

func quicksort(arr []int) {
	r := len(arr) - 1
	l := 0
	if len(arr) <= 1 {
		return
	}
	middle := arr[(r-l)/2]
	for l <= r {
		if arr[l] >= middle && arr[r] <= middle {
			arr[l], arr[r] = arr[r], arr[l]
			l++
			r--
			continue
		}
		if arr[l] <= middle {
			l++
		}
		if arr[r] > middle {
			r--
		}
	}
	quicksort(arr[:r+1])
	quicksort(arr[l:])
}

func main() {
	arr := []int{
		284, 831, 1410, 1201, 20, 2598, 1955, 749, 1843, 2882, 1581, 596, 673, 2644, 2683, 2299, 2466, 2972, 2596, 246, 1694, 975, 2908, 2788, 2253, 1098, 402, 1549, 2274, 604, 519, 2557, 1434, 1928, 758, 1453, 1526, 2712, 2201, 368, 2594, 782, 963, 267, 426, 646, 2565, 2891, 618, 2160, 136, 2311, 134, 44, 2098, 2387, 1142, 2500, 935, 416, 103, 1453, 2972, 1536, 381, 730, 2989, 1906, 442, 2190, 2274, 35, 2972, 237, 301, 397, 882, 2866, 287, 1499, 2025, 423, 810, 2159, 466, 2908, 1545, 1608, 2407, 2479, 2023, 2509, 932, 1995, 1045, 1313, 2724, 1034, 219, 165, 224, 2492, 200, 195, 2728, 500, 591, 610, 366, 878, 2109, 2390, 1300, 2918, 1549, 1766, 2826, 93, 373, 2232, 2572, 2395, 1741, 504, 1389, 2786, 1816, 1113, 819, 2035, 1277, 1043, 1527, 1476, 1237, 1254, 1976, 1828, 1864, 2341, 2705, 972, 1731, 1005, 890, 279, 2770, 715, 371, 142, 2947, 2943, 2537, 1687, 446, 926, 1472, 2262, 2038, 2291, 1296, 315, 333, 2822, 1790, 1570, 1076, 766, 397, 2939, 107, 102, 911, 1837, 1106, 1800, 2115, 875, 2514, 2486, 1017, 2460, 2428, 554, 1147, 2874, 1479, 2619, 2135, 517, 1910, 431, 832, 2243, 253, 2622, 812, 1328, 387, 1209, 1267, 493, 1311, 2177, 2329, 2416, 977, 1444, 291, 491, 930, 1308, 2950, 357, 1861, 1097, 230, 340, 716, 2365, 857, 2625, 2795, 1688, 1867, 48, 1309, 2679, 1375, 1696, 888, 2642, 2188, 2198, 1819, 1517, 1613, 2795, 2961, 1904, 285, 890, 211, 235, 1247, 2072, 1332, 1477, 2412, 2047, 841, 268, 1672, 636, 1956, 539, 683, 265, 217, 2058, 1960, 1105, 1700, 1148, 302, 518, 2665, 1915, 313, 2626, 818, 598, 515, 1029, 832, 1762, 101, 2164, 238, 2513, 1211, 1079, 2781, 2882, 1714, 1736, 421, 2396, 2000, 638, 1454, 960, 1742, 153, 2108, 2043, 670, 1772, 957, 983, 1397, 1775, 1580, 1912, 2804, 2412, 674, 2905, 1575, 911, 2417, 2785, 1989, 2197, 2667, 703, 932, 87, 99, 2932, 724, 1552, 892, 2465, 1704, 2999, 1508, 2374, 1771, 2465, 356, 168, 1240, 1936, 2079, 1044, 1347, 2753, 948, 2922, 663, 364, 2707, 2652, 2560, 2374, 354, 492, 2461, 453, 424, 184, 2004, 1315, 2649, 708, 1314, 1157, 81, 84, 621, 437, 251, 1861, 2373, 2330, 2904, 720, 2082, 851, 641, 2745, 1215, 348, 2396, 774, 2721, 2750, 1266, 2181, 202, 1690, 2365, 2206, 5, 2014, 2913, 1318, 171, 2994, 1401, 791, 431, 1652, 2652, 2803, 981, 2555, 522, 63, 405, 1163, 2807, 1619, 1510, 2203, 2393, 1231, 1953, 659, 412, 2154, 2348, 2777, 1360, 2352, 1791, 1272, 670, 1961, 1265, 2071, 2752, 1695, 722, 2403, 1498, 1703, 1957, 2019, 1765, 2362, 182, 1572, 980, 1691, 774, 373, 2922, 2726, 1031, 334, 1880, 379, 110, 239, 2730, 1901, 1511, 399, 861, 2776, 2470, 612, 1471, 191, 14, 2968, 1893, 1970, 1987, 658, 1331, 2168, 2229, 2311, 859, 3, 2683, 780, 2728, 714, 1114, 1608, 1092, 1224, 1847, 822, 124, 357, 1221, 984, 132, 690, 1595, 1602, 880, 1609, 1569, 2773, 579, 555, 431, 1910, 2723, 2660, 1220, 581, 2662, 903, 1361, 2390, 1617, 2474, 997, 2708, 697, 2843, 530, 820, 199, 1750, 1804, 331, 2439, 399, 1932, 319, 2007, 501, 92, 2586, 1056, 522, 1495, 778, 181, 2715, 1359, 2843, 618, 2719, 2232, 2234, 2192, 228, 1942, 2889, 71, 2471, 708, 270, 1220, 2512, 601, 659, 2910, 2532, 977, 1917, 33, 1068, 1502, 1089, 1590, 2996, 1866, 1770, 2711, 224, 1612, 328, 2943, 843, 2561, 2134, 1071, 1503, 2023, 1142, 973, 2730, 1412, 2193, 2242, 2012, 2851, 2151, 1544, 827, 1067, 1576, 1895, 2569, 2664, 484, 2564, 1530, 2253, 2274, 1754, 865, 2602, 1696, 1708, 2163, 830, 2779, 665, 2852, 920, 1637, 2582, 2332, 829, 1823, 1343, 680, 974, 2886, 1507, 2041, 1461, 401, 1609, 1125, 884, 1173, 2654, 137, 447, 1408, 1002, 48, 103, 2709, 2210, 933, 2488, 2874, 784, 408, 1511, 365, 2739, 2340, 2188, 1081, 19, 161, 966, 1525, 2201, 2427, 1926, 810, 551, 2810, 1982, 205, 2946, 2428, 1613, 947, 2476, 1716, 656, 1685, 2648, 143, 1559, 431, 551, 70, 796, 289, 2409, 2984, 1369, 2428, 144, 2335, 953, 2345, 1761, 2878, 154, 2312, 2687, 2136, 2516, 2633, 1564, 1129, 580, 1039, 2844, 1235, 2724, 2491, 1378, 1283, 2922, 1928, 1352, 717, 2217, 761, 700, 585, 188, 844, 2919, 1140, 189, 1680, 1018, 343, 991, 704, 2478, 507, 337, 1042, 1635, 916, 2081, 1478, 2151, 1805, 968, 528, 87, 890, 2456, 1439, 1606, 1672, 2199, 2306, 2257, 2386, 150, 2176, 526, 339, 855, 1544, 681, 1846, 2248, 159, 2352, 2584, 1200, 986, 499, 281, 2464, 2649, 2085, 432, 177, 2172, 1321, 2633, 610, 2927, 1305, 2808, 2233, 562, 2194, 2382, 2737, 2720, 2720, 592, 1263, 401, 2437, 510, 559, 1788, 93, 1759, 2774, 592, 2039, 2238, 241, 1123, 2669, 418, 295, 989, 50, 904, 916, 1355, 712, 148, 1916, 2905, 2530, 1652, 2625, 2250, 2243, 887, 2650, 1680, 1397, 209, 468, 1490, 1967, 241, 2082, 1006, 2479, 2322, 2129, 2147, 2740, 2423, 136, 2789, 326, 1051, 1144, 1038, 1199, 59, 943, 728, 1711, 567, 2978, 954, 1454, 2628, 2633, 2851, 2836, 100, 1340, 1803, 341, 421, 2808, 2819, 2743, 1937, 1966, 2482, 1359, 2102, 2271, 1685, 152, 414, 2722, 1351, 473, 665, 2079, 2183, 1231, 2056, 136, 2685, 1683, 2769, 2535, 1519, 2868, 875, 321, 209, 1295, 129, 28, 1038, 2065, 1993, 520, 424, 1094, 2790, 2109, 1246, 204, 1831, 2596, 676, 2495, 1675, 2859, 725, 730, 2995, 410, 2413, 2763, 2944, 931, 2631, 818, 1251, 2840, 2113, 1380, 2867, 150, 444, 1860, 670, 868, 2953, 459, 2976, 1199, 663, 1806, 795, 1338, 1300, 2469, 1196, 2025, 199, 1191, 2434, 2611, 953, 2377, 541, 584, 195, 1792, 423, 2307, 171, 289, 2457, 615, 2148, 126, 1482, 2101, 585, 1458, 299, 1247, 263, 1094, 2585, 1563, 562, 781, 587, 760, 1971, 21, 371, 2923, 2398, 911, 506, 2592, 2703, 928, 1899, 2873, 1217, 1355, 488, 364, 1481, 1969, 2464, 2065, 427, 2763, 311, 689, 856, 2896, 2252, 1418, 676, 2839, 2178, 2646, 2859, 2548, 2568, 2257, 459, 74, 1848, 161, 1002, 746, 34, 2218, 2101, 521,
	}
	quicksort(arr)
	fmt.Println(arr)
	fmt.Println(sort.IntsAreSorted(arr))
}
